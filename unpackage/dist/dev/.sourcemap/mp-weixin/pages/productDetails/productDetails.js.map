{"version":3,"sources":["uni-app:///main.js","webpack:///D:/SK.PwGuard.App/app_woman/pages/productDetails/productDetails.vue?3b61","webpack:///D:/SK.PwGuard.App/app_woman/pages/productDetails/productDetails.vue?a5f8","webpack:///D:/SK.PwGuard.App/app_woman/pages/productDetails/productDetails.vue?b448","webpack:///D:/SK.PwGuard.App/app_woman/pages/productDetails/productDetails.vue?83a7","uni-app:///pages/productDetails/productDetails.vue"],"names":["createPage","Page"],"mappings":";;;;;;;;;;kDAAA,wCAAmB;AACnB;AACA,wH;AACAA,UAAU,CAACC,uBAAD,CAAV,C;;;;;;;;;;;;;ACHA;AAAA;AAAA;AAAA;AAAA;AAA2H;AAC3H;AACkE;AACL;;;AAG7D;AACkN;AAClN,gBAAgB,qNAAU;AAC1B,EAAE,oFAAM;AACR,EAAE,yFAAM;AACR,EAAE,kGAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,6FAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACtBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA,WAAW,qOAEN;AACL,GAAG;AACH;AACA,WAAW,2OAEN;AACL,GAAG;AACH;AACA,WAAW,uPAEN;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACjCA;AAAA;AAAA;AAAA;AAAs1B,CAAgB,g0BAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACiD12B,oF;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;eACA,EACA,IADA,kBACA,CACA,SACA,aADA,EAEA,qBAFA,EAGA,UAHA,EAIA,eAJA,EAKA,YALA,EAMA,iBANA,EAOA,eAPA,EAQA,QARA,EASA;AACA,sBAVA,EAWA;AACA,gBAZA,EAaA;AACA,gBAdA,EAeA;AACA,oBAhBA,EAiBA;AACA,gBAlBA,EAmBA;AACA,kBApBA,EAqBA;AACA,qBAtBA,EAuBA;AACA,0BAxBA,EAyBA;AACA,wBA1BA,EA2BA;AACA,YA5BA,GA8BA,CAhCA,EAiCA,MAjCA,kBAiCA,CAjCA,EAiCA,CACA,YACA,4BACA,iBADA,IAGA,kCACA,sDACA,CAxCA,EAyCA,WACA,oBADA,gCACA,CADA,EACA,CACA,oBACA,wBACA,uBACA,CAFA,MAEA,CACA,qBACA,CACA,CARA,EASA,UATA,sBASA,KATA,EASA,CACA,iBACA,mBACA,6BACA,CAHA,MAGA,CACA,6BACA,gBACA,aADA;AAEA,sBAFA;;AAIA;AACA,KApBA;AAqBA,mBArBA,2BAqBA,KArBA,EAqBA;AACA;AACA;AACA,KAxBA;AAyBA,mBAzBA,6BAyBA;AACA;AACA;AACA,KA5BA;AA6BA,cA7BA,wBA6BA;AACA;AACA;AACA;AACA;AACA,OAFA,MAEA;AACA;AACA;AACA,KArCA;AAsCA,mBAtCA,6BAsCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+BADA;AAEA,sBAFA;;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sBADA;AAEA,0BAFA;AAGA,0BAHA;AAIA,sBAJA;AAKA,0BALA;AAMA,sBANA;AAOA,iCAPA;AAQA,0BARA;AASA,+BATA;AAUA,6BAVA;AAWA,wBAXA;AAYA,4BAZA;AAaA,gCAbA;AAcA,gCAdA;;AAgBA;AACA;AACA;AACA;AACA;AACA;AACA,uBADA;AAEA,wEAFA;AAGA,6BAHA;AAIA;AACA;AACA;AACA,4BADA;;AAGA;AACA;AACA,aAXA;;AAaA,SAfA,MAeA;AACA;AACA,uBADA;AAEA,2BAFA;AAGA,6BAHA;;AAKA;AACA,OAxBA,EAwBA,KAxBA,CAwBA;AACA;AACA;AACA,qBADA;AAEA,uBAFA;AAGA,sBAHA;;AAKA,OA/BA;AAgCA,KA3GA,EAzCA,E","file":"pages/productDetails/productDetails.js","sourcesContent":["import 'uni-pages';import '@dcloudio/uni-stat';\nimport Vue from 'vue'\nimport Page from './pages/productDetails/productDetails.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./productDetails.vue?vue&type=template&id=04ad1066&\"\nvar renderjs\nimport script from \"./productDetails.vue?vue&type=script&lang=js&\"\nexport * from \"./productDetails.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../软件安装目录/HBuilderX/HBuilderX.2.9.8.20201110.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/productDetails/productDetails.vue\"\nexport default component.exports","export * from \"-!../../../../软件安装目录/HBuilderX/HBuilderX.2.9.8.20201110.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../软件安装目录/HBuilderX/HBuilderX.2.9.8.20201110.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../../软件安装目录/HBuilderX/HBuilderX.2.9.8.20201110.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../软件安装目录/HBuilderX/HBuilderX.2.9.8.20201110.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../软件安装目录/HBuilderX/HBuilderX.2.9.8.20201110.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../软件安装目录/HBuilderX/HBuilderX.2.9.8.20201110.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./productDetails.vue?vue&type=template&id=04ad1066&\"","var components = {\n  uPopup: function() {\n    return import(\n      /* webpackChunkName: \"node-modules/uview-ui/components/u-popup/u-popup\" */ \"uview-ui/components/u-popup/u-popup.vue\"\n    )\n  },\n  uButton: function() {\n    return import(\n      /* webpackChunkName: \"node-modules/uview-ui/components/u-button/u-button\" */ \"uview-ui/components/u-button/u-button.vue\"\n    )\n  },\n  uCalendar: function() {\n    return import(\n      /* webpackChunkName: \"node-modules/uview-ui/components/u-calendar/u-calendar\" */ \"uview-ui/components/u-calendar/u-calendar.vue\"\n    )\n  }\n}\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  var m0 = _vm.handResult()\n  _vm.$mp.data = Object.assign(\n    {},\n    {\n      $root: {\n        m0: m0\n      }\n    }\n  )\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../软件安装目录/HBuilderX/HBuilderX.2.9.8.20201110.full/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../软件安装目录/HBuilderX/HBuilderX.2.9.8.20201110.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../软件安装目录/HBuilderX/HBuilderX.2.9.8.20201110.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../软件安装目录/HBuilderX/HBuilderX.2.9.8.20201110.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../软件安装目录/HBuilderX/HBuilderX.2.9.8.20201110.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./productDetails.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../软件安装目录/HBuilderX/HBuilderX.2.9.8.20201110.full/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../软件安装目录/HBuilderX/HBuilderX.2.9.8.20201110.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../软件安装目录/HBuilderX/HBuilderX.2.9.8.20201110.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../软件安装目录/HBuilderX/HBuilderX.2.9.8.20201110.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../软件安装目录/HBuilderX/HBuilderX.2.9.8.20201110.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./productDetails.vue?vue&type=script&lang=js&\"","<template>\r\n\t<view class=\"w-100 flex align-center justify-center flex-column\">\r\n\t\t<block v-for=\"(item,index) in list\" :key=\"index\">\r\n\t\t\t<view class=\"w-100 flex justify-center  mt-2\">\r\n\t\t\t\t<view class=\"bg-white border rounded\" style=\"width: 686rpx;\">\r\n\t\t\t\t\t<view class=\"flex flex-column py-2 ml-2\">\r\n\t\t\t\t\t\t<text>设备名称: {{item.e_name}}</text>\r\n\t\t\t\t\t\t<view>\r\n\t\t\t\t\t\t\t<text>现价: {{item.e_purchase_price}}元</text>\r\n\t\t\t\t\t\t\t<text class=\"ml-3\">费用/天: {{item.r_price}}元</text>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<text>代理商: {{item.e_agent}}</text>\r\n\t\t\t\t\t\t<text>厂家: {{item.e_firm}}</text>\r\n\t\t\t\t\t\t<text>类型: {{item.e_type}}</text>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t</block>\r\n\t\t<view class=\"flex w-100 position-fixed  bottom-0\">\r\n\t\t\t<view @click=\"howToUseIt(0)\" class=\"bg-primary flex align-center justify-center\" style=\"width: 50%;height: 88rpx;\">\r\n\t\t\t\t<text class=\"text-white\">租用</text>\r\n\t\t\t</view>\r\n\t\t\t<view @click=\"howToUseIt(1)\" class=\"bg-danger flex align-center justify-center\" style=\"width: 50%;height: 88rpx;\">\r\n\t\t\t\t<text class=\"text-white\">购买</text>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t<u-popup mode=\"center\" v-model=\"isShow\" width=\"700\" height=\"400\" border-radius=\"12\" safe-area-inset-bottom @open=\"handlePopupShow\">\r\n\t\t\t<scroll-view scroll-y=\"true\">\r\n\t\t\t\t<block v-for=\"(item,index) in list\" :key=\"index\">\r\n\t\t\t\t\t<view class=\"flex p-2\">\r\n\t\t\t\t\t\t<text class=\"flex-1\">押金: {{item.r_deposit}}元</text>\r\n\t\t\t\t\t\t<text class=\"flex-1\">费用/天: {{item.r_price}}元</text>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"flex p-2\">\r\n\t\t\t\t\t\t<text @click=\"handleStartDate(0)\" class=\"flex-1\">起始时间: {{start_date}}</text>\r\n\t\t\t\t\t\t<text @click=\"handleStartDate(1)\" class=\"flex-1\">结束时间: {{end_date}}</text>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<text class=\"p-2\" v-show=\"start_date && end_date !== '---'\">总价: {{handResult()}}元</text>\r\n\t\t\t\t</block>\r\n\t\t\t</scroll-view>\r\n\t\t\t<view class=\"flex align-center justify-center mt-5\">\r\n\t\t\t\t<u-button type=\"error\" size=\"medium\" @click=\"handleOrderInfo\">去支付</u-button>\r\n\t\t\t</view>\r\n\t\t</u-popup>\r\n\t\t<u-calendar v-model=\"isShowCalendar\" :mode=\"mode\" @change=\"handleChangeCalendar\" max-date=\"2030-12-31\"></u-calendar>\r\n\t</view>\r\n</template>\r\n\r\n<script>\r\n\timport tool from '@/utils/util.js';\r\n\texport default {\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tisShow: false,\r\n\t\t\t\tisShowCalendar: false,\r\n\t\t\t\tcurrent: 0,\r\n\t\t\t\tresult_money: 0,\r\n\t\t\t\tmode: 'date',\r\n\t\t\t\tstart_date: '---',\r\n\t\t\t\tend_date: '---',\r\n\t\t\t\tlist: [],\r\n\t\t\t\t// 领用设备ID\r\n\t\t\t\tequipment_id: '',\r\n\t\t\t\t// 领用设备类型\r\n\t\t\t\te_type: '',\r\n\t\t\t\t// 领用设备名称\r\n\t\t\t\te_name: '',\r\n\t\t\t\t// 领用人ID\r\n\t\t\t\tpregnantID: '',\r\n\t\t\t\t// 领用人姓名\r\n\t\t\t\tp_Name: '',\r\n\t\t\t\t// 领用人身份证号\r\n\t\t\t\tp_IdCard: '',\r\n\t\t\t\t// 领用电话\r\n\t\t\t\tp_Telephone: '',\r\n\t\t\t\t// 领用方式\r\n\t\t\t\tcollectionMethod: '',\r\n\t\t\t\t// 领用时间\r\n\t\t\t\tcollectionTime: '',\r\n\t\t\t\t// 使用天数\r\n\t\t\t\tday: 0\r\n\t\t\t}\r\n\t\t},\r\n\t\tonLoad(e) {\r\n\t\t\tlet arr = e;\r\n\t\t\tuni.setNavigationBarTitle({\r\n\t\t\t\ttitle: arr.e_name\r\n\t\t\t})\r\n\t\t\tthis.list = this.list.concat(arr);\r\n\t\t\tthis.collectionTime = tool.getFtSystemTime();\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\thandleChangeCalendar(e) {\r\n\t\t\t\tlet date = e.result;\r\n\t\t\t\tif (this.current == 0) {\r\n\t\t\t\t\tthis.start_date = date\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.end_date = date\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\thowToUseIt(index) {\r\n\t\t\t\tif (index == 0) {\r\n\t\t\t\t\tthis.isShow = true;\r\n\t\t\t\t\tthis.collectionMethod = '租用';\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.collectionMethod = '购买';\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ttitle: '暂未开放',\r\n\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t})\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\thandleStartDate(index) {\r\n\t\t\t\tthis.isShowCalendar = true;\r\n\t\t\t\tthis.current = index;\r\n\t\t\t},\r\n\t\t\thandlePopupShow() {\r\n\t\t\t\tlet time = this.collectionTime;\r\n\t\t\t\tthis.start_date = time.substr(0, 10);\r\n\t\t\t},\r\n\t\t\thandResult() {\r\n\t\t\t\tlet arr = this.list[0];\r\n\t\t\t\tthis.day = (+new Date(this.end_date) - +new Date(this.start_date)) / 1000 / (24 * 3600) + 1;\r\n\t\t\t\tif (this.day == 0) {\r\n\t\t\t\t\treturn this.result_money = this.day * +arr.r_price + +arr.r_deposit + +arr.r_price;\r\n\t\t\t\t} else {\r\n\t\t\t\t\treturn this.result_money = this.day * +arr.r_price + +arr.r_deposit\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\thandleOrderInfo() {\r\n\t\t\t\tlet val1 = this.start_date.replace(/-/g, '/');\r\n\t\t\t\tlet val2 = this.end_date.replace(/-/g, '/');\r\n\t\t\t\tlet time1 = new Date(val1);\r\n\t\t\t\tlet time2 = new Date(val2);\r\n\t\t\t\tlet start_date = time1.getTime();\r\n\t\t\t\tlet end_date = time2.getTime();\r\n\t\t\t\tif (this.start_date == '---' || this.end_date == '---') {\r\n\t\t\t\t\treturn uni.showToast({\r\n\t\t\t\t\t\ttitle: '请选择起始时间/结束时间',\r\n\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t})\r\n\t\t\t\t}\r\n\t\t\t\t// if (start_date > end_date) {\r\n\t\t\t\t// \treturn uni.showToast({\r\n\t\t\t\t// \t\ttitle: '起始时间不能大于结束时间',\r\n\t\t\t\t// \t\ticon: 'none'\r\n\t\t\t\t// \t})\r\n\t\t\t\t// }\r\n\t\t\t\tlet arr = this.list[0];\r\n\t\t\t\tlet obj = {\r\n\t\t\t\t\te_id: arr.e_id,\r\n\t\t\t\t\te_name: arr.e_name,\r\n\t\t\t\t\te_type: arr.e_type,\r\n\t\t\t\t\tp_id: arr.p_id,\r\n\t\t\t\t\tidcard: arr.idcard,\r\n\t\t\t\t\ttele: arr.tele,\r\n\t\t\t\t\tcm: this.collectionMethod,\r\n\t\t\t\t\tc_name: arr.c_name,\r\n\t\t\t\t\tc_time: this.start_date,\r\n\t\t\t\t\tr_time: this.end_date,\r\n\t\t\t\t\tr_days: this.day,\r\n\t\t\t\t\tr_price: arr.r_price,\r\n\t\t\t\t\tr_sum: this.result_money,\r\n\t\t\t\t\tr_deposit: arr.r_deposit\r\n\t\t\t\t}\r\n\t\t\t\tconsole.log(obj);\r\n\t\t\t\tthis.$u.post('/EquipLeaseNew', obj).then(res => {\r\n\t\t\t\t\tconsole.log(JSON.stringify(res.data));\r\n\t\t\t\t\tif (res.code == 200 && res.data !== null) {\r\n\t\t\t\t\t\tthis.isShow = false;\r\n\t\t\t\t\t\tuni.showModal({\r\n\t\t\t\t\t\t\ttitle: '提示',\r\n\t\t\t\t\t\t\tcontent: '设备' + this.collectionMethod + '成功!\\n请联系管理员，领用设备。',\r\n\t\t\t\t\t\t\tshowCancel: false,\r\n\t\t\t\t\t\t\tsuccess: (res) => {\r\n\t\t\t\t\t\t\t\tif (res.confirm) {\r\n\t\t\t\t\t\t\t\t\tuni.$emit('current', {\r\n\t\t\t\t\t\t\t\t\t\tcurrent: 0\r\n\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\tuni.navigateBack();\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tuni.showModal({\r\n\t\t\t\t\t\t\ttitle: '提示',\r\n\t\t\t\t\t\t\tcontent: '未知错误',\r\n\t\t\t\t\t\t\tshowCancel: false\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}\r\n\t\t\t\t}).catch(e => {\r\n\t\t\t\t\tconsole.log(e);\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ttitle: '提示',\r\n\t\t\t\t\t\tcontent: '错误',\r\n\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t})\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n<style>\r\n</style>\n"],"sourceRoot":""}