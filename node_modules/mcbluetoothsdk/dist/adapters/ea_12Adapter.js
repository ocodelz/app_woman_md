"use strict";var utils=require("../utils/util.js"),sampleType=require("../const/sampleType.js"),units=require("../const/unit.js");function parseData(e){var _=utils.ab2hex(e.value),s="534e"==_.substring(0,4)||"534E"==_.substring(0,4);if(console.log("ea-12 resValue: "+_),40==_.length&&s){var u={GLU:"",UA:"",KET:"",HbA1c:""},a=_.substring(12,16),l=_.substring(38,40);if(a===sampleType.TYPE_MAP.INDEX_1_BLOOD.value||a===sampleType.TYPE_MAP.INDEX_2_SUGER_SIMULATED_FLUID.value){var t=parseInt(_.substring(30,34),16)/10;return l===units.UNIT_MAP.INDEX_1_MMOL_L.value?t<1.1?t="L":33.3<t&&(t="H"):l===units.UNIT_MAP.INDEX_3_MG_DL.value&&(t<20?t="L":600<t&&(t="H")),u.GLU=t,console.log("血糖结果值："+t),u}if(a===sampleType.TYPE_MAP.INDEX_3__KETONE_BLOOD.value||a===sampleType.TYPE_MAP.INDEX_4__KETONE_SIMULATED_FLUID.value){t=parseInt(_.substring(30,34),16)/100;return l===units.UNIT_MAP.INDEX_1_MMOL_L.value?t<.1?t="L":6<t&&(t="H"):l===units.UNIT_MAP.INDEX_3_MG_DL.value&&(t<1?t="L":62.4<t&&(t="H")),u.KET=t,console.log("血酮结果值："+t),u}if(a===sampleType.TYPE_MAP.INDEX_5_URIC_ACID_BLOOD.value||a===sampleType.TYPE_MAP.INDEX_6_URIC_ACID_SIMULATED_FLUID.value){t=parseInt(_.substring(30,34),16);return l===units.UNIT_MAP.INDEX_2_UMOL_L.value?t<181?t="L":1188<t&&(t="H"):l===units.UNIT_MAP.INDEX_3_MG_DL.value&&(t<10751.4?t="L":70567.2<t&&(t="H")),u.UA=t,console.log("尿酸结果值："+t),u}if(a===sampleType.TYPE_MAP.INDEX_7_GLYCOSYLATED_HEMOGLOBIN.value||a===sampleType.TYPE_MAP.INDEX_8_GLYCOSYLATED_HEMOGLOBIN.value){t=parseInt(_.substring(30,34),16)/10;return u.HbA1c=t,console.log("糖化血红蛋白结果值："+t),u}}}module.exports={parseData:parseData};