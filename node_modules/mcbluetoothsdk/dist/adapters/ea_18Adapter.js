"use strict";var utils=require("../utils/util.js"),sampleType=require("../const/sampleType.js"),units=require("../const/unit.js");function parseData(e){var s=utils.ab2hex(e.value),_="534e"==s.substring(0,4)||"534E"==s.substring(0,4);if(console.log("ea-18 resValue: "+s),40==s.length&&_){var a={GLU:"",UA:"",KET:"",HbA1c:""},u=s.substring(12,16),l=s.substring(38,40);if(u===sampleType.TYPE_MAP.INDEX_1_BLOOD.value||u===sampleType.TYPE_MAP.INDEX_2_SUGER_SIMULATED_FLUID.value){var r=parseInt(s.substring(30,34),16)/10;return l===units.UNIT_MAP.INDEX_1_MMOL_L.value?r<1.1?r="L":33.3<r&&(r="H"):l===units.UNIT_MAP.INDEX_3_MG_DL.value&&(r<20?r="L":600<r&&(r="H")),a.GLU=r,console.log("血糖结果值："+r),a}if(u===sampleType.TYPE_MAP.INDEX_3__KETONE_BLOOD.value||u===sampleType.TYPE_MAP.INDEX_4__KETONE_SIMULATED_FLUID.value){var r=parseInt(s.substring(30,34),16)/100;return l===units.UNIT_MAP.INDEX_1_MMOL_L.value?r<.1?r="L":6<r&&(r="H"):l===units.UNIT_MAP.INDEX_3_MG_DL.value&&(r<1?r="L":62.4<r&&(r="H")),a.KET=r,console.log("血酮结果值："+r),a}if(u===sampleType.TYPE_MAP.INDEX_5_URIC_ACID_BLOOD.value||u===sampleType.TYPE_MAP.INDEX_6_URIC_ACID_SIMULATED_FLUID.value)return(r=parseInt(s.substring(30,34),16))<181?r="L":1188<r&&(r="H"),a.UA=r,console.log("尿酸结果值："+r),a;if(u===sampleType.TYPE_MAP.INDEX_7_GLYCOSYLATED_HEMOGLOBIN.value||u===sampleType.TYPE_MAP.INDEX_8_GLYCOSYLATED_HEMOGLOBIN.value){r=parseInt(s.substring(30,34),16)/10;return a.HbA1c=r,console.log("糖化血红蛋白结果值："+r),a}}}module.exports={parseData:parseData};